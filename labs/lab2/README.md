# Week 3 Com i Con Lab

### Hello.
Who remembers what was on the last lab? ...
Ok, who was doing the assignment? ...

Well, let's start a bit from the theoretical part. What is grammar?

a) Ok, write a grammar that describes all 3-character words from 'a' 'b' 'c'

Answer:
S-> AAA
A -> a | b | c

Well, what is a terminal and nonterminal symbol in grammar? What are the grammars (context dependent and independent, CFG)?
You can talk about CFG. This is a special case of formal grammar, 
in which the left parts of all products are single nonterminals

b) Okay, write a grammar describing a^n b^n (ex. aaaabbbb, n = 4)

Answer:
S -> ab | aSb

c) Okay, now the same thing, only a and b can stand in any order.

Answer:
T -> aTbT | bTaT | e (e is the epsilon)

d) Well, what if the different number of a and b in any order?

Answer:
S -> U | V
U -> TaU | TaT | UaT
V -> TbV | TbT | VbT
T -> aTbT | bTaT | e

Feel? Do not forget to only specify the start symbol.
And if I remove the last condition from U and V, will the grammar remain working? Yes. They are redundant.

e) And such? b^n a^m b^2n (m, n> = 0)

Answer:
S -> bSbb | A
A -> aA | e

g) Here is another: a^n b^n c^n

To torment two minutes. 
Relax, it's context-dependent. Today we will not touch them, think at home.


### A small test for 5, okay 10 minutes
Give examples of recording real numbers. Ex.:
34.45
35.23e4
36.1E-3
0.0

1) Write down the grammar for such numbers
Answer:
Real -> Digit DigitEx DP Exp
Digit -> 0..9
DigitEx -> Digit DigitEx | e
DP -> '.' Digit DigitEx | e
Exp -> 'e' Sign Digit DigitEx | 'E' Sign Digit DigitEx | e
Sign -> + | - | e

2) There is a grammar S-> S S * | S S + | a. Write three example lines that can be generated by this grammar. 
(additional: What is the grammar like?)
Answer: Well, generate. Additional - postfix notation.

### Farther

Well, why is the syntax not described by regulars or automata, why are grammars needed? 
What is their advantage?
Automatic and regular do not know how to count. You can not write a^n b^n with their help.
Well, who remembers the regular for email? Name any. And let's rewrite it with grammar.

### And a bit about the code
There is a simple grammar:
S -> sA | bB | ccC | dddd
A -> aB | cC | ddd
B -> bC | dd
C -> d
The initial character (target) is S

a) Write the code that generates word for this grammar.
Answer:
```
void S(void){
  switch(rand % 4){
  case 0:
    printf("s");
    A();
    return;
  case 1:
    printf("b");
    B();
    return;
  case 2:
    printf("cc");
    C();
    return;
  case 3:
    printf("dddd");
    return;
  }
}

void A(void){
  switch(rand()%3){
  case 0:
    printf("a");
    B();
    return;
  case 1:
    printf("c");
    C();
    return;
  case 2:
    printf("ddd");
    return;
  }
}

void B(void){
  switch(rand() % 2){
  case 0:
    printf("b");
    C();
    return;
  case 1:
    printf("dd");
    return;
  }  
}

void C(void){
  printf("d");
}
```

b) Write a code that checks the string is corresponding to this grammar
Answer:
```
bool S(const char* str){
  switch(*str){
  case 's':
    printf("S -> aA\n");
    return A(str+1);
  case 'b':
    printf("S -> bB\n");
    return B(str+1);
  case 'c':
    if(str[1] != 'c') {
      printf("No rule can be applied - wrong string.\n");
      return false;
    }
    printf("S -> ccC\n");
    return C(str+2);
  case 'd':
    if(strcmp(str, "dddd") != 0){
      printf("No rule can be applied - wrong string.\n");
      return false;
    }
    printf("S -> dddd\n");
    return true;
  default:
    printf("No rule can be applied - wrong string.\n");
    return false;
  }
}// Other functions are the same
```